# Websocket

> 브라우저와 서버는 `HTTP`를 통해 소통함
>
> 이는 인터넷 데이터 교환에서 필수 / 업로드 다운로드 이미지 문서 등등 인터넷에서 오가는 모든 요소들이 http를 통해 이동함
>
> > **http 작동원리**
> >
> > 유튜브로 들어오면 브라우저는 `http request`로 유튜브 서버로 보내고 유튜브 서버는 요청에 맞는 홈페이지를 구성하는 모든 자료를 `http response`에 담아서 브라우저로 보냄.
>
> 브라우저와 서버의 통신은 1번의 request와 response로 끝남. 즉 서버는 브라우저에게 요청이 없는한 데이터를 보낼 수 없음.
>
> 따라서 우리가 채팅을 하려면 메세지가 왔을 때마다 새로고침을 해서 확인해야함.
>
> 이를 극복하려고 만든 것이 **Web Socket**이다



#### 웹소켓은 Request와 Response를 통한 요청이 아닌 Open Close로 연결되어 있다.

- 브라우저가 웹소켓을 이용해 서버와 연결을 하면 해당 통신은 원하는 순간까지 열려있다
- 서버는 업데이트를 원한느 때에 바로 보낼 수 있음. 주로 채팅방, 주식거래 앱, 게임같은 리얼타임 경험을 위해 만들어짐.
- 즉 단체 채팅방에서 소통은 구성원들과 연결이 되어 있는것이 아닌 같은 웹소켓 서버에 입장한 것.

#### 메모리 파워가 중요함

- 유저가 많으면 많을수록 더 많은 메모리가 필요하고 서버에 돈이 많이 들어감
- 서버의 속도도 중요함. 리얼타임으로 빠르게 이동해야함
- 서버에 수많은 커넥션이 오면 그에따른 딜레이가 발생함 ➡ UX 저하
- 서버가 내려가면 누구도 대화를 할 수 없음. ➡ 브라우저를 서버에 연결하는 것이 아닌 브라우저 끼리 연결하는 시도가 생김 ➡ **Web RTC**



# Web RTC (Web Real Time Communication)

## 💡브라우저끼리 연결을 도와줌.  Peer to Peer Communication

### 단순 텍스트뿐 아닌 영상, 오디오, 채팅 모두 리얼타임으로 할 수 있음. 모든 자료를 서버를 통하지 않아 이전 보다 빠름.



#### Web RTC 문제점

- 확장성의 제약이 있음

  ➡ 예를 들어 채팅방에 1000명의 사람이 있다면 999명의 데이터를 다운받고 999명에게 나의 데이터를 업로드 시켜줘야함.

  